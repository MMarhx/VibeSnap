<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VibeSnap â€¢ Workspace</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <header class="topbar">
      <a class="brand" href="index.html" aria-label="VibeSnap">
        <span class="brandMark" aria-hidden="true">ðŸ”¥</span>
        <span class="brandText">vibesnap</span>
      </a>

      <nav class="nav">
        <a class="navLink navLink--active" href="index.html" aria-current="page">Workspace</a>
        <a class="navLink" href="prompt.html">Prompt Builder</a>
        <a class="navLink" href="pricing.html">Pricing</a>
      </nav>
    </header>

    <section class="hero">
      <h1 class="h1">Prototype anywhere. Validate here.</h1>
      <p class="subhead">
        Paste a single file HTML prototype (inline CSS + JS), run it safely in a sandbox, then collect lightweight feedback.
      </p>

      <ol class="flow">
        <li><span class="chip">1</span> Paste</li>
        <li><span class="chip">2</span> Launch preview</li>
        <li><span class="chip">3</span> Share + feedback</li>
      </ol>

      <p class="trustLine">
        Your ideas stay yours. VibeSnap is local first. No accounts. No tracking. Nothing stored unless you choose to export.
      </p>
    </section>

    <section class="grid">
      <!-- Workspace -->
      <section class="card card--wide" aria-labelledby="wsTitle">
        <div class="cardHead">
          <h2 id="wsTitle" class="h2">Workspace</h2>
          <div class="meta" id="saveStatus">Not saved yet</div>
        </div>

        <div class="toolbar">
          <button class="btn" id="btnStarter" type="button">Paste starter</button>
          <button class="btn" id="btnClearInput" type="button">Clear</button>
          <button class="btn btn--primary" id="btnLaunch" type="button" disabled>Launch preview</button>
          <button class="btn" id="btnReload" type="button" disabled>Reload</button>
          <button class="btn" id="btnDownload" type="button" disabled>Download HTML</button>
        </div>

        <label class="label" for="codeInput">Single file HTML</label>
        <textarea id="codeInput" class="editor" spellcheck="false"
          placeholder="Paste a single HTML file (with inline CSS + JS) or use Import Helper below."></textarea>

        <div class="statsRow" aria-label="Usage metrics">
          <div class="stat">
            <div class="statLabel">Views</div>
            <div class="statValue" id="statViews">0</div>
          </div>
          <div class="stat">
            <div class="statLabel">Launches</div>
            <div class="statValue" id="statLaunches">0</div>
          </div>
          <button class="btn btn--ghost" id="btnResetAnalytics" type="button">Reset</button>
        </div>
      </section>

      <!-- Preview -->
      <section class="card" aria-labelledby="pvTitle">
        <div class="cardHead">
          <h2 id="pvTitle" class="h2">Preview</h2>
          <div class="meta">Runs in a sandboxed iframe</div>
        </div>
        <div class="previewWrap">
          <iframe id="previewFrame" title="VibeSnap preview" sandbox="allow-scripts allow-forms allow-modals allow-pointer-lock allow-popups"
            referrerpolicy="no-referrer"></iframe>
        </div>
        <p class="hint">
          Preview is ephemeral. If you refresh, re-launch.
        </p>
      </section>

      <!-- Share -->
      <section class="card" aria-labelledby="shTitle">
        <div class="cardHead">
          <h2 id="shTitle" class="h2">Share</h2>
          <div class="meta">Local only link</div>
        </div>

        <label class="label" for="shareInput">Share link (this device)</label>
        <input id="shareInput" class="input" type="text" readonly placeholder="Create a share linkâ€¦" />

        <div class="toolbar">
          <button class="btn" id="btnCreateShare" type="button" disabled>Create link</button>
          <button class="btn" id="btnCopyLink" type="button" disabled>Copy</button>
          <button class="btn" id="btnOpenShare" type="button" disabled>Open</button>
          <button class="btn btn--ghost" id="btnClearShare" type="button">Clear</button>
        </div>

        <p class="hint">
          This is a prototype. Sharing works locally for now (no backend).
        </p>
      </section>

      <!-- Feedback -->
      <section class="card" aria-labelledby="fbTitle">
        <div class="cardHead">
          <h2 id="fbTitle" class="h2">Feedback</h2>
          <div class="meta"><span id="statFeedback">0</span> saved</div>
        </div>

        <div id="feedbackEmpty" class="empty">
          Save quick notes while you test. Export later.
        </div>

        <label class="label" for="feedbackText">Notes</label>
        <textarea id="feedbackText" class="textarea" placeholder="What worked? What confused you? What would you change?"></textarea>

        <div class="toolbar">
          <button class="btn btn--primary" id="btnSaveFeedback" type="button">Save</button>
          <button class="btn" id="btnExportFeedback" type="button">Export JSON</button>
          <button class="btn btn--ghost" id="btnClearFeedback" type="button">Clear</button>
        </div>
      </section>

      <!-- Prompt helper -->
      <section class="card" aria-labelledby="pbTitle">
        <div class="cardHead">
          <h2 id="pbTitle" class="h2">Prompt helper</h2>
          <div class="meta">For your AI tool</div>
        </div>

        <p class="hint">
          Use Prompt Builder for a better prompt. Quick copy below:
        </p>
        <div class="toolbar">
          <button class="btn" id="btnCopyPrompt" type="button">Copy prompt template</button>
        </div>
        <pre class="code" id="pbOut" aria-label="Prompt template"></pre>

        <p class="hint">
          Ask for a single file HTML output with inline CSS and JS.
        </p>
      </section>

      <!-- Import helper -->
      <section class="card card--wide" aria-labelledby="imTitle">
        <div class="cardHead">
          <h2 id="imTitle" class="h2">Import helper</h2>
          <div class="meta">Drag + drop</div>
        </div>

        <div class="importGrid">
          <div class="dropzone" id="dzSingle" tabindex="0" role="button" aria-label="Drop a single HTML file">
            <div class="dzTitle">Single file</div>
            <div class="dzSub">Drop an .html file (inline CSS + JS)</div>
            <input id="fileSingle" class="file" type="file" accept=".html,text/html" />
            <div class="dzStatus" id="stSingle">No file</div>
          </div>

          <div class="dropzone" id="dzSplit" tabindex="0" role="button" aria-label="Drop split files">
            <div class="dzTitle">Split files (advanced)</div>
            <div class="dzSub">Drop .html + .css + .js (any order)</div>
            <input id="fileSplit" class="file" type="file" accept=".html,.css,.js,text/html,text/css,application/javascript" multiple />
            <ul class="checklist" aria-label="Split file status">
              <li><span class="check" id="stHtml">HTML</span></li>
              <li><span class="check" id="stCss">CSS</span></li>
              <li><span class="check" id="stJs">JS</span></li>
            </ul>
          </div>
        </div>

        <div class="toolbar">
          <button class="btn btn--primary" id="btnImportUse" type="button">Use uploaded</button>
          <button class="btn btn--ghost" id="btnImportClear" type="button">Clear uploads</button>
        </div>

        <div class="assembled">
          <div class="assembledHead">
            <div class="label">Assembled output</div>
            <div class="toolbar">
              <button class="btn" id="btnAssembleLaunch" type="button" disabled>Launch</button>
              <button class="btn" id="btnAssembleCopy" type="button" disabled>Copy</button>
              <button class="btn" id="btnAssembleDownload" type="button" disabled>Download</button>
            </div>
          </div>
          <textarea id="assembledOut" class="textarea textarea--mono" readonly
            placeholder="Upload files to assemble a single HTML prototypeâ€¦"></textarea>
        </div>
      </section>
    </section>

    <footer class="footer">
      <span>vibesnap.xyz</span>
      <span class="dot" aria-hidden="true">â€¢</span>
      <span>local-first prototyping</span>
    </footer>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="app.js" defer></script>
</body>
</html>
